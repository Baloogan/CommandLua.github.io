<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Command Lua Documentation</title>
    <link rel="stylesheet" href="../ldoc_fixed.css" type="text/css" />
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-57524251-1', 'auto');
      ga('require', 'displayfeatures');
      ga('send', 'pageview');

    </script>
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>CommandLua</h1>


<h2>Contents</h2>
<ul>
<li><a href="#SetEMCON">SetEMCON </a></li>
<li><a href="#Events">Events </a></li>
</ul>


<h2>Topics</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../topics/01-getting-started.md.html">01-getting-started</a></li>
  <li><strong>02-creation</strong></li>
  <li><a href="../topics/03-unit-table.md.html">03-unit-table</a></li>
  <li><a href="../topics/98-event_handling.md.html">98-event_handling</a></li>
  <li><a href="../topics/99-code-examples.md.html">99-code-examples</a></li>
</ul>
<h2>Reference</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../index.html">ScenEdit</a></li>
</ul>

</div>

<div id="content">

    In this tutorial, we'll discuss how to embed your scripts into a real scenario, as well as how to alter the EMCON of a unit. Yet again, the two sides are fighting, but with ground units which aren't on the map. LuaSideB wants some aerial recon, but can only understand instructions in Lua. This is particularly problematic, because they want a radar sweep but only from within a specific area! Even worse, the generals forgot to tell the pilot about this, so we'll have to inform the pilot to turn the radar on once it arrives.</p>

<p>To implement this challenge, we'll be using Command's events system to control the EMCON of the recon aircraft. The scene file already contains the skeleton of what's needed for Lua use.</p>

<p><a href="https://github.com/BenChung/CommandLuaDocs/raw/master/LuaTutorial3.scen">Scene file</a></p>

<p>LuaSideB has already placed the aircraft (BHawk) and the mission (AAnalysis). We'll be configuring BHawk to fly AAnalysis.</p>

<p><a name="SetEMCON"></a></p>
<h2>SetEMCON</h2>
<p>To make this scene work, we'll need to use the <a href="../index.html#ScenEdit_SetEMCON">SetEMCON</a> function. This function does what it says on the tin: explains to one of the Luaians what kind of EMCON to use, be it Radar, Sonar, or OECM. </p>

<p>The function's syntax is quite complex. The signature is</p>


<pre>
ScenEdit_SetEMCON([<span class="string">'Side'</span> / <span class="string">'Mission'</span> / <span class="string">'Group'</span> / <span class="string">'Unit'</span>], [<span class="string">'Side Name or ID'</span> / <span class="string">'Mission Name or ID'</span> / <span class="string">'Group Name or ID'</span> / <span class="string">'Unit Name or ID'</span>], [<span class="string">'Radar/Sonar/OECM=Active/Passive;'</span> / <span class="string">'Inherit'</span>])
</pre>

<p>For instance, to turn on an BHawk's OECM, you would write</p>


<pre>
ScenEdit_SetEMCON(<span class="string">'Unit'</span>,<span class="string">'BHawk'</span>,<span class="string">'OECM=Active'</span>)
</pre>

<p>Therefore, we need to do</p>


<pre>
ScenEdit_SetEMCON(<span class="string">'Unit'</span>,<span class="string">'BHawk'</span>,<span class="string">'Radar=Active'</span>)
</pre>

<p><a name="Events"></a></p>
<h2>Events</h2>
<p>We need to add Lua to the event framework that's already in the game. We'll add a new action of the type "Lua Action", as seen here:</p>

<p><img src="http://imgur.com/MGsUvoe.png" alt="Event editor Lua Action"/></p>

<p>Then, we get</p>

<p><img src="http://imgur.com/BkzIRdJ.png" alt="Lua Action Editor"/></p>

<p>The text entry area is where we'll add our script.</p>

<p>To finish the tutorial, add in our Lua script to set the EMCON, add it to the event, then run the scenario.

</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2017-05-27 12:26:03 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
