<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Command Lua Documentation</title>
    <link rel="stylesheet" href="../ldoc_pale.css" type="text/css" />
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-57524251-1', 'auto');
      ga('require', 'displayfeatures');
      ga('send', 'pageview');

    </script>
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>CommandLua</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Aircraft_creation">Aircraft creation </a></li>
<li><a href="#Exercises">Exercises </a></li>
</ul>


<h2>Tutorials</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../tutorials/01-getting-started.md.html">01-getting-started</a></li>
  <li><strong>02-creation</strong></li>
  <li><a href="../tutorials/03-events.md.html">03-events</a></li>
</ul>
<h2>Reference</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../index.html">ScenEdit</a></li>
</ul>

</div>

<div id="content">

    The longtime belligerents, LuaSideA and LuaSideB have decided that naval incidenting is simply insufficient, and want to take the war to each other's homes with aircraft. However, they have entirely failed to actually acquire any, and are thus at something of an impasse. Both sides need a contract to purchase (and deliver) new fighters, written in their native language Lua.</p>

<p><a href="https://github.com/BenChung/CommandLuaDocs/raw/master/LuaTutorial2.scen">Scen file, save as</a>.</p>

<p><a name="Aircraft_creation"></a></p>
<h2>Aircraft creation</h2>
<p>Creating aircraft in Command is very much the same as ships, using the <a href="../index.html#ScenEdit_AddAircraft">ScenEdit_AddAircraft</a> function, whose signature is as follows:</p>


<pre>
ScenEdit_AddAircraft(<span class="string">'[Side Name or ID]'</span>, <span class="string">'[AC Name]'</span>, [DBID], [LoadoutID], [<span class="string">'DEC'</span> <span class="keyword">or</span> <span class="string">'DEG'</span>], [<span class="string">'Latitude'</span>], [<span class="string">'Longitude'</span>])
</pre>

<p>You'll notice the LoadoutID field. This indicates which loadout should be carried by the unit, and needs to be populated from the DB.</p>

<p>Now, the Lua countries have imposed a constraint on us. They were very annoyed with how the naval incidents were perfectly equally matched, and want to purchase different equipment. As such, they want us to draw up contracts for a F-15 (SideA), and Su-27 (SideB), both of which should be in a ground attack configuration.</p>


<p>We'll cover the method for picking SideA's plane in detail, then SideB will be left as an exercise (Su-30 is also acceptable, according to the contact). We first pick the model:</p>

<p><img src="http://i.imgur.com/PeAsyWx.png" alt="F-15E 3222"/></p>

<p>Then, to find the Loadout ID, scroll down to the loadouts until you see</p>

<p><img src="http://i.imgur.com/o43hl32.png" alt="Loadout 1666"/></p>

<p>Therefore, we want aircraft ID # 3222 and loadout ID 1666.</p>

<p><strong>Exercise:</strong> Repeat this for SideB, picking a Su-27 and an appropriate loadout for land attack.</p>

<p>The sides have specified these coordinates for their aircraft:</p>

<ul>
    <li><strong>SideA</strong>: N51 11 01, E0 32 32</li>
    <li><strong>SideB</strong>: N50 43 02, E1 52 09</li>
</ul>

<p>Further, they want the names:</p>

<ul>
    <li><strong>SideA</strong>: A Avenger</li>
    <li><strong>SideB</strong>: B Boomer</li>
</ul>

<p>As such, for SideA's plane, we write</p>


<pre>
ScenEdit_AddAircraft(<span class="string">'LuaSideA'</span>, <span class="string">'A Avenger'</span>, <span class="number">3222</span>, <span class="number">1666</span>, <span class="string">'DEG'</span>, <span class="string">'N51.11.01'</span>, <span class="string">'E0.32.32'</span>)
</pre>

<p><strong>Exercise:</strong> Repeat for SideB.</p>

<p>All we need to do now is assign them to their missions, like so:</p>


<pre>
ScenEdit_AssignUnitToMission(<span class="string">"A Avenger"</span>, <span class="string">"AAttack"</span>)
ScenEdit_AssignUnitToMission(<span class="string">"B Boomer"</span>, <span class="string">"BBombing"</span>)
</pre>

<p>Now, this isn't enough. They've specified that this engagement <strong>must</strong> happen when it's rainy out, but it's a beautiful day! We can change this with the <a href="../index.html#ScenEdit_SetWeather">ScenEdit_SetWeather</a> function, with the following interface</p>

<p>   ScenEdit_SetWeather([Average Temperature], [Rainfall Rate (0-50)], [Cloud Percentage (0.0 - 1.0)], [Sea State (0 - 9)])</p>

<p>So, we just need to do</p>

<p>   ScenEdit_SetWeather(20, 50, 1, 5)</p>

<p>And we're done!</p>

<p><a name="Exercises"></a></p>
<h2>Exercises</h2>

<ul>
    <li><strong>Exercise 1</strong>: Set up more complex attacks from Lua.</li>
    <li><strong>Exercise 2</strong>: Create a weather testing environment where visibility range is tested.</li>
    <li><strong>Exercise 3</strong>: Make a shooting range for every loadout of an aircraft.</li>
</ul>

<p>In <a href="../tutorials/03-events.md.html#">tutorial 2</a>, we'll cover how to embed Lua scripts into the game, as well as how to change EMCON and add submarines.

</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2014-12-10 19:48:20 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
